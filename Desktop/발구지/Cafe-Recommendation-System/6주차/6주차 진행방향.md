## 1. 감성 분류를 수행하는 모델 만들기


**하는 방법**
https://wikidocs.net/44249 

1) **현재 84개의 카페를 제외한(최종 test data이므로)** 다른 카페들의 리뷰(긍정적인 리뷰와 부정적인 리뷰)를 여러개 긁어옵니다.
 
2) 리뷰개수는 총 600개를 긁어옵니다. 그리고 각각의 리뷰가 긍정인지, 부정인지의 여부를 표시해 줍니다.

![image](https://user-images.githubusercontent.com/108641325/196018952-3bf93da7-8465-4b10-a219-9d69303681a7.png)

 
3) 긍정은 1, 부정은 0. 리뷰를 모으고 나서 이를 판별하는 열을 새로 만들어줍니다.
 
4) 그리고 600개의 리뷰 중 480개를 train data로 활용하고, 120개를 test data로 활용합니다(8:2)
 
5) train data를 정제화, 토큰화, 정수 인코딩, 빈 샘플 제거, 패딩합니다.

6) test data도 정제화, 토큰화, 정수 인코딩, 빈 샘플 제거, 패딩합니다.

7) LSTM과 train data를 통해 훈련을 진행합니다. validation_split=0.2을 사용하여 훈련 데이터의 20%를 검증 데이터로 분리해서 사용합니다.
 
8) 훈련과정에서 검증 데이터의 정확도가 가장 높았을 때 저장된 모델을 채택합니다.

9) test data에 대해서 정확도를 측정해 봅니다.

10) 최종 모델을 활용해 임의의 리뷰에 대해서 예측하는 함수를 만듭니다. 이 함수는 리뷰가 ~% 확률로 긍정인지, ~% 확률로 부정인지를 파악할 수 있게 해줍니다.

![image](https://user-images.githubusercontent.com/108641325/196018394-dbb882e1-c5b5-4977-8e01-22c8db602761.png)


## 2. 임의의 리뷰에 대해서 예측하는 함수를 활용해, 현재 84개의 카페에 대한 리뷰 예측을 진행하기.

1) 또한, 저희는 현재 84개의 카페에 대한 리뷰들을 수집합니다. 이번에는 리뷰가 긍정인지, 부정인지의 여부를 표시할 필요가 없습니다. 함수가 해줄겁니다.

2) 함수를 통해 카페의 각 리뷰들에 대한 예측을 거칩니다. 

3) 긍정적 리뷰 상위 5개를 추출합니다(a % 확률로 긍정이라고 할 때, a가 가장 높은 순)

4) 이 다섯 개를 합칩니다. 그리고 이것을 'overview'로 활용할 생각입니다(overview, 개요. 영화로 따지자면 줄거리고, 카페로 따지자면 '이 카페의 긍정적 내용에 대한 요약' 정도로...)


## 3. TF-IDF와 cosine similarity 활용 

https://github.com/sbeen1840/Cafe-Recommendation-System/blob/main/5%EC%A3%BC%EC%B0%A8/TfidfVectorizer%EC%99%80%20Cosine_similarity%EB%A5%BC%20%ED%99%9C%EC%9A%A9%ED%95%9C%20%EC%B9%B4%ED%8E%98%20%EC%B6%94%EC%B2%9C(%EC%B9%B4%ED%8E%98%2010%EA%B0%9C.%20%EC%84%A4%EB%AA%85%20%EC%B6%94%EA%B0%80).ipynb

위 방법을 씁니다. 

바뀐 점은 기존엔 overview가  '리뷰어의 리뷰 작성수가 50개 이상 / 평점 4.0 이상 / 카.공 관련 키워드가 포함' 을 기준으로 선정된 하나의 리뷰였다면,
**이번에는 감성 분석을 통해 선정한 5개의 리뷰인 것입니다.**

나머지(TF-IDF, Cosine similarity를 활용하는 방식, 연관 카페를 도출하는 방식 등등)는 동일합니다.


 ---
 
 **참고 사항**
 
 1) 리뷰는 네이버 리뷰를 수집합니다.

 ![image](https://user-images.githubusercontent.com/108641325/196018536-25b0b86a-d001-4fa8-b39b-94f0e6c2ed93.png)

---

 2) 리뷰를 어떻게 긍정/부정으로 분류할 것인가요?

- 무조건 긍정(1)으로 판별하는 키워드 
  
  - 깨끗, 가격 저렴, 편한, 조용, 쾌적, 분리, 따로, 집중 좋다, 맛있다, 깔끔, 친절, 코로나 시국에 맞다==분리, 아늑 등 긍정적이면서 공부와 어느정도 연관이 있는 키워드


- 무조건 부정(0)으로 판별하는 키워드 
  
  - 예약(스터디 카페가 아닌 카페를 예약하면서까지 공부할 것 같진 않아서...ㅠㅠ), 넷플릭스, 영화, 불편, 시끄럽다 등 부정적이면서 공부와 어느정도 연관이 있는 키워드

- 긍정, 부정 키워드가 겹칠 경우

  - 친절 & 불편 => 0
  - 친절 & 맛 없음 => 0
  - 친절 & 예약 => 0
  - 맛 있음 & 예약 => 0
  - 깔끔 & 불편 => 0
  - 편함 & 시끄러움 => 0
  - 맛 없음 & 조용 혹은 집중 잘됨 => 1
  
  즉, '공부'에 초점을 맞추어 판별하고자 합니다.
  
  
  ### 현재 계획은 이렇구요, 이를 분업해서 하고자 합니다. 
